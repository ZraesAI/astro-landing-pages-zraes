---
import { Target, Shield, FileCheck, TrendingUp, Brain, Lock, Zap, BarChart2 } from "@lucide/astro";

// Feature cards data
const features = [
  {
    title: "APY Accuracy",
    value: "99.7%",
    description: "Real-time yield verification with on-chain data",
    icon: Target,
    color: "#BFFF00",
    trend: "+12.4%",
  },
  {
    title: "Risk Score",
    value: "A+",
    description: "Multi-factor analysis of trading strategies",
    icon: Shield,
    color: "#66FCF1",
    trend: "Low Risk",
  },
  {
    title: "Verified Contracts",
    value: "15,847",
    description: "Audited smart contracts across all chains",
    icon: FileCheck,
    color: "#45A29E",
    trend: "+847 this month",
  },
];

// Additional metrics
const metrics = [
  { label: "Total Value Locked", value: "$2.4B", icon: Lock },
  { label: "Trading Volume 24h", value: "$847M", icon: TrendingUp },
  { label: "Active Strategies", value: "12,456", icon: Brain },
  { label: "Avg. Response Time", value: "0.3s", icon: Zap },
];
---

<section class="bg-brand-background py-20 lg:py-32 relative overflow-hidden">
  <!-- Background Elements -->
  <div class="absolute inset-0 opacity-[0.02] grid-pattern"></div>
  <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-[#BFFF00]/5 rounded-full blur-[200px]"></div>
  <div class="absolute bottom-0 left-0 w-[500px] h-[500px] bg-brand-primary/5 rounded-full blur-[180px]"></div>

  <div class="container mx-auto px-6 max-w-7xl relative z-10">
    <!-- Section Header -->
    <div class="text-center mb-16 space-y-4">
      <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-brand-primary/30 bg-brand-primary/5">
        <BarChart2 class="w-4 h-4 text-brand-primary" />
        <span class="text-sm text-brand-primary font-medium uppercase tracking-wider">Platform Analytics</span>
      </div>
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-white">
        Real-Time <span class="text-glow bg-gradient-to-r from-[#BFFF00] to-brand-primary bg-clip-text text-transparent">Performance Metrics</span>
      </h2>
      <p class="text-[#C5C6C7] max-w-2xl mx-auto text-lg">Transparent on-chain data powering trustless verification for your algorithmic trading bots.</p>
    </div>

    <!-- Main Feature Cards - Glassmorphism -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 mb-16">
      {
        features.map((feature, i) => {
          const IconComponent = feature.icon;
          return (
            <div
              class="feature-card group relative p-8 rounded-2xl backdrop-blur-xl bg-brand-surface/40 border border-white/10 hover:border-white/20 transition-all duration-500 hover:transform hover:scale-[1.02] overflow-hidden"
              style={`--delay: ${i * 0.1}s; --accent-color: ${feature.color}`}
            >
              {/* Glowing border effect */}
              <div class="absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500" style={`box-shadow: inset 0 0 60px ${feature.color}15, 0 0 40px ${feature.color}10`} />

              {/* Corner accent */}
              <div class="absolute top-0 right-0 w-32 h-32 opacity-20 group-hover:opacity-40 transition-opacity" style={`background: radial-gradient(circle at top right, ${feature.color}40, transparent 70%)`} />

              {/* Content */}
              <div class="relative z-10">
                {/* Icon */}
                <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-6 border transition-all duration-300" style={`background: ${feature.color}10; border-color: ${feature.color}30;`}>
                  <IconComponent class="w-7 h-7" style={`color: ${feature.color}`} />
                </div>

                {/* Title & Value */}
                <div class="mb-4">
                  <p class="text-[#C5C6C7] text-sm uppercase tracking-wider mb-1">{feature.title}</p>
                  <div class="text-4xl lg:text-5xl font-bold text-white" style={`text-shadow: 0 0 30px ${feature.color}30`}>
                    {feature.value}
                  </div>
                </div>

                {/* Description */}
                <p class="text-[#C5C6C7]/80 text-sm mb-4">{feature.description}</p>

                {/* Trend Badge */}
                <div class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium" style={`background: ${feature.color}15; color: ${feature.color}`}>
                  <TrendingUp class="w-3 h-3" />
                  {feature.trend}
                </div>
              </div>

              {/* Bottom glow line */}
              <div class="absolute bottom-0 left-0 right-0 h-px opacity-0 group-hover:opacity-100 transition-opacity duration-500" style={`background: linear-gradient(90deg, transparent, ${feature.color}, transparent)`} />
            </div>
          );
        })
      }
    </div>

    <!-- Secondary Metrics Row -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      {
        metrics.map((metric, i) => {
          const IconComponent = metric.icon;
          return (
            <div class="metric-item group p-5 rounded-xl bg-brand-surface/20 border border-white/5 hover:border-brand-primary/20 transition-all duration-300 text-center" style={`--delay: ${i * 0.05}s`}>
              <IconComponent class="w-5 h-5 text-brand-primary mx-auto mb-3" />
              <div class="text-2xl font-bold text-white mb-1">{metric.value}</div>
              <div class="text-xs text-[#C5C6C7] uppercase tracking-wider">{metric.label}</div>
            </div>
          );
        })
      }
    </div>
  </div>
</section>

<style>
  .grid-pattern {
    background-image: linear-gradient(rgba(102, 252, 241, 0.3) 1px, transparent 1px), linear-gradient(90deg, rgba(102, 252, 241, 0.3) 1px, transparent 1px);
    background-size: 60px 60px;
  }

  .text-glow {
    text-shadow:
      0 0 40px rgba(191, 255, 0, 0.4),
      0 0 80px rgba(191, 255, 0, 0.2);
  }

  .feature-card {
    animation: fadeInUp 0.8s ease-out calc(0.2s + var(--delay)) forwards;
    opacity: 0;
  }

  .metric-item {
    animation: fadeInUp 0.6s ease-out calc(0.6s + var(--delay)) forwards;
    opacity: 0;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
