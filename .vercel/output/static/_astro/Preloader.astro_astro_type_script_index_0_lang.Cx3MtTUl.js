const M=()=>{const t=document.getElementById("preloader-neural");if(!t)return;const n=t.getContext("2d");if(!n)return;t.width=window.innerWidth,t.height=window.innerHeight;const r=[],i=30;for(let e=0;e<i;e++)r.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*.8,vy:(Math.random()-.5)*.8});const o=()=>{n.clearRect(0,0,t.width,t.height),r.forEach((e,a)=>{e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>t.width)&&(e.vx*=-1),(e.y<0||e.y>t.height)&&(e.vy*=-1),n.beginPath(),n.arc(e.x,e.y,3,0,Math.PI*2),n.fillStyle="rgba(102, 252, 241, 0.6)",n.fill(),r.forEach((s,u)=>{if(a===u)return;const h=e.x-s.x,w=e.y-s.y,y=Math.sqrt(h*h+w*w);y<150&&(n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(s.x,s.y),n.strokeStyle=`rgba(102, 252, 241, ${.2*(1-y/150)})`,n.lineWidth=1,n.stroke())})}),requestAnimationFrame(o)};o()};M();let c=window.innerWidth/2,l=window.innerHeight/2,d=!1;const f=t=>{c=t.clientX,l=t.clientY,d=!0},v=t=>{c=t.clientX,l=t.clientY,d=!0},x=t=>{c=t.clientX,l=t.clientY,d=!0};document.addEventListener("mousemove",f,{passive:!0});document.addEventListener("mouseenter",v,{passive:!0});document.addEventListener("mouseover",x,{passive:!0});c=window.innerWidth/2;l=window.innerHeight/2;const m=t=>{t.touches.length>0&&(c=t.touches[0].clientX,l=t.touches[0].clientY,d=!0)};document.addEventListener("touchstart",m);document.addEventListener("touchmove",m);const E=()=>new Promise(t=>{const i=Array.from(document.querySelectorAll("img")).filter(e=>{const s=e.getBoundingClientRect().top<window.innerHeight*2,u=e.getAttribute("loading")==="eager"||!e.hasAttribute("loading");return s||u}).map(e=>e.complete?Promise.resolve():new Promise(a=>{const s=setTimeout(()=>a(),1e3);e.onload=()=>{clearTimeout(s),a()},e.onerror=()=>{clearTimeout(s),a()}})),o=100;document.readyState==="complete"?Promise.all(i).then(()=>{setTimeout(()=>t(),o)}):document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Promise.all(i).then(()=>{setTimeout(()=>t(),o)})}):Promise.all(i).then(()=>{setTimeout(()=>t(),o)})}),T=()=>{const t=document.getElementById("progress-bar");if(!t)return;let n=0;return setInterval(()=>{n+=Math.random()*20+10,n>95&&(n=95),t.style.width=`${n}%`},80)},p=()=>{const t=document.getElementById("preloader"),n=document.getElementById("preloader-content"),r=document.getElementById("final-cursor-dot");if(!t)return;let i=c,o=l;const e=i===window.innerWidth/2&&o===window.innerHeight/2;d&&!isNaN(i)&&!isNaN(o)&&!e?(i=c,o=l):(i=window.innerWidth/2,o=window.innerHeight/2),i=Math.max(0,Math.min(i,window.innerWidth)),o=Math.max(0,Math.min(o,window.innerHeight));const a=[Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),Math.sqrt(Math.pow(window.innerWidth-i,2)+Math.pow(o,2)),Math.sqrt(Math.pow(i,2)+Math.pow(window.innerHeight-o,2)),Math.sqrt(Math.pow(window.innerWidth-i,2)+Math.pow(window.innerHeight-o,2))],s=Math.max(...a)*1.2;r&&(r.style.left=`${i}px`,r.style.top=`${o}px`,r.style.transform="translate(-50%, -50%)"),n&&(n.style.transition="opacity 0.3s ease-out, transform 0.5s ease-in",n.style.opacity="0",n.style.transform=`translate(${(i-window.innerWidth/2)*.1}px, ${(o-window.innerHeight/2)*.1}px) scale(0.9)`),setTimeout(()=>{t.style.transition="clip-path 0.8s cubic-bezier(0.77, 0, 0.175, 1)",t.style.clipPath=`circle(${s}px at ${i}px ${o}px)`,t.offsetHeight,requestAnimationFrame(()=>{t.style.clipPath=`circle(5px at ${i}px ${o}px)`})},100),setTimeout(()=>{r&&(r.style.transition="opacity 0.2s ease-out",r.style.opacity="1")},700),setTimeout(()=>{r&&(r.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",r.style.opacity="0",r.style.transform="translate(-50%, -50%) scale(0.5)")},900),setTimeout(()=>{t.style.display="none",document.body.style.overflow="",document.removeEventListener("mousemove",f),document.removeEventListener("mouseenter",v),document.removeEventListener("mouseover",x),document.removeEventListener("touchstart",m),document.removeEventListener("touchmove",m)},1e3)},g=async()=>{if(!document.getElementById("preloader"))return;document.body.style.overflow="hidden";const n=T(),r=setTimeout(()=>{const o=document.getElementById("progress-bar");o&&(o.style.width="100%"),n&&clearInterval(n),setTimeout(()=>{p()},100)},2e3);await E(),clearTimeout(r);const i=document.getElementById("progress-bar");i&&(i.style.width="100%"),n&&clearInterval(n),setTimeout(()=>{p()},100)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):g();
